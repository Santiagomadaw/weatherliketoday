(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&c(r)}).observe(document,{childList:!0,subtree:!0});function o(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerPolicy&&(n.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?n.credentials="include":t.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(t){if(t.ep)return;t.ep=!0;const n=o(t);fetch(t.href,n)}})();const a=document.getElementById("container"),u=document.getElementById("searchcity"),g=document.getElementById("search"),p=document.getElementById("tempcelcius"),f=document.getElementById("weathericon"),h=document.getElementById("description"),y=document.getElementById("zone"),w=document.getElementById("date"),E=document.getElementById("min"),x=document.getElementById("max"),i=e=>{const s=new Date(e.dt*1e3),o=new Date(e.sys.sunrise*1e3),c=new Date(e.sys.sunset*1e3),t=s.getHours().toString().padStart(2,"0"),n=s.getMinutes().toString().padStart(2,"0");w.textContent=`${t}:${n}`,console.log(o),console.log(e.dt>e.sys.sunrise),console.log(s),console.log(e.dt>e.sys.sunset),console.log(c),e.dt>e.sys.sunrise&&e.dt<e.sys.sunset?(a.classList.remove("night"),a.classList.add("day"),console.log("dia")):(a.classList.remove("day"),a.classList.add("night"),console.log("noche")),y.textContent=e.name,p.textContent=Math.floor(e.main.temp),h.textContent=e.weather[0].description,E.textContent=Math.floor(e.main.temp_min),x.textContent=Math.floor(e.main.temp_max);const r=e.weather[0].icon;f.innerHTML=`<img src="./icons/${r}.png"></img>`},d="a00065117a35d1c18108761088dca9fa",I="https://api.openweathermap.org/data/2.5/weather?lang=sp&units=metric",L="https://api.openweathermap.org/data/2.5/weather?",l=async e=>{const o=await(await fetch(I+"&appid="+d+"&q="+e,m)).json();i(o),console.log(o)},B=async e=>{const s=e.longitude,o=e.latitude,t=await(await fetch(L+"lat="+o+"&lon="+s+"&appid="+d+"&lang=sp&units=metric")).json(),n=t;console.log(t),i(n)};u.addEventListener("submit",e=>{e.preventDefault(),l(g.value)});const m={enableHighAccuracy:!0,timeout:5e3,maximumAge:0};function v(e){const s=e.coords;console.log(e.coords),B(s)}function C(e){console.warn(`ERROR(${e.code}): ${e.message}`),l("Cordoba, es")}navigator.geolocation.getCurrentPosition(v,C,m);
