(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function o(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(e){if(e.ep)return;e.ep=!0;const n=o(e);fetch(e.href,n)}})();const c=document.getElementById("container"),u=document.getElementById("searchcity"),p=document.getElementById("search"),g=document.getElementById("tempcelcius"),f=document.getElementById("weathericon"),h=document.getElementById("description"),y=document.getElementById("zone"),w=document.getElementById("date"),E=document.getElementById("min"),x=document.getElementById("max"),i=t=>{const s=new Date(t.dt*1e3);new Date(t.sys.sunrise*1e3),new Date(t.sys.sunset*1e3);const o=s.getHours().toString().padStart(2,"0"),a=s.getMinutes().toString().padStart(2,"0");w.textContent=`${o}:${a}`,t.dt>t.sys.sunrise&&t.dt<t.sys.sunset?(c.classList.remove("night"),c.classList.add("day")):(c.classList.remove("day"),c.classList.add("night")),y.textContent=t.name+" "+t.sys.country,g.textContent=Math.floor(t.main.temp),h.textContent=t.weather[0].description,E.textContent=Math.floor(t.main.temp_min),x.textContent=Math.floor(t.main.temp_max);const e=t.weather[0].icon;f.innerHTML=`<img src="./icons/${e}.png"></img>`},d="a00065117a35d1c18108761088dca9fa",l="https://api.openweathermap.org/data/2.5/weather?lang=sp&units=metric",I="https://api.openweathermap.org/data/2.5/weather?",m=async t=>{const s=navigator.language.split("-")[1],a=await(await fetch(l+"&appid="+d+"&q="+t+", "+s)).json();if(a.message=="city not found"){const n=await(await fetch(l+"&appid="+d+"&q="+t)).json();i(n)}else i(a)},L=async t=>{const n=await(await fetch(I+"lat="+37.9+"&lon="+-4.8333+"&appid="+d+"&lang=sp&units=metric")).json();i(n)};u.addEventListener("submit",t=>{t.preventDefault(),m(p.value)});const B={enableHighAccuracy:!0,timeout:5e3,maximumAge:0};function v(t){t.coords,L()}function C(t){console.warn(`ERROR(${t.code}): ${t.message}`),m("Cordoba, es")}navigator.geolocation.getCurrentPosition(v,C,B);
